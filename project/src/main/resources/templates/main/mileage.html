<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/css/main/header.css">
    <link rel="stylesheet" type="text/css" href="/css/main/footer.css">
    <link rel="stylesheet" type="text/css" href="/css/main/nav.css">
    <link rel="stylesheet" type="text/css" href="/css/main/mileage.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Antonio&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css" integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">
    <title>mileage</title>
    <script src="/js/jquery.js"></script>
    <script src="/js/main/header.js"></script>
    <script src="/js/main/nav.js"></script>
</head>
<body>
    <!--header start-->
    <header th:replace="main/header :: main_headerFragment">
    </header>
    <!--header end-->

    <!--section-->
    <section>
        <div class="section_caption">
            MILEAGE
        </div>
        <div class="mileage_summary">
            <div class="mileage_summary_left">
                <div class="summary_item">
                    <span><i class="fas fa-chevron-right"></i> <span>총 적립금</span></span>
                    <span th:text="${#numbers.formatInteger(totalmileage, 0, 'COMMA')} + '원'">2,000원</span>
                </div>
                <div class="summary_item">
                    <span><i class="fas fa-chevron-right"></i> <span>사용된 적립금</span></span>
                    <span th:text="${#numbers.formatInteger(usedmileage, 0, 'COMMA')} + '원'">0원</span>
                </div>
            </div>
            <div class="mileage_summary_right">
                <div class="summary_item">
                    <span><i class="fas fa-chevron-right"></i> <span>사용가능 적립금</span></span>
                    <span th:text="${#numbers.formatInteger(restmileage, 0, 'COMMA')} + '원'">2,000원</span>
                </div>
            </div>
        </div>
        <div class="section_content">
            <div class="mileage_caption">
                <div class="mileage_caption_desc">적립내역보기</div>
            </div>
            <div class="mileagelist">
                <div class="mileagelist_content">
                    <table>
                        <colgroup>
                            <col width="15%">
                            <col width="15%">
                            <col width="auto">
                        </colgroup>
                        <thead>
                            <tr>
                                <td>주문날짜</td>
                                <td>적립금</td>
                                <td>내용</td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="mileage:${mileageList}">
                                <td th:text="${mileage.createdAt}">2021-05-11</td>
                                <td th:text="${#numbers.formatInteger(mileage.mileagePrice, 0, 'COMMA')} + '원'">2,000원</td>
                                <td th:text="${mileage.mileageContent}">신규회원 적립금</td>
                            </tr>
                        </tbody>
                    </table>

                    <!--검색결과가 있는 경우 없는 영역-->
<!--                    <div class="nosearch" th:if="${#lists.isEmpty(mileageList)}">-->
<!--                        적립내역이 없습니다.-->
<!--                    </div>-->

                </div>
                <ul class="pagenation">
                    <li th:classappend="${1 == mileageList.pageable.pageNumber + 1} ? 'disabled'">
                        <a href="#" class="prev bracket" th:href="@{/main/mileage(page=${mileageList.pageable.pageNumber - 1})}" tabindex="-1" aria-disabled="true">
                            <i class="fas fa-chevron-left"></i> PREV
                        </a>
                    </li>
                    <li th:classappend="${i == mileageList.pageable.pageNumber + 1} ? 'disabled'" th:each="i : ${#numbers.sequence(startPage, endPage)}">
                        <a href="#" class="pagenum" th:href="@{/main/mileage(page=${i - 1})}" th:text="${i}">1</a>
                    </li>
                    <li th:classappend="${mileageList.totalPages == mileageList.pageable.pageNumber + 1} ? 'disabled'">
                        <a href="#" class="next bracket" th:href="@{/main/mileage(page=${mileageList.pageable.pageNumber + 1})}">
                            NEXT <i class="fas fa-chevron-right"></i>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </section>

    <!--nav-->
    <nav th:replace="main/nav :: main_navFragment">
    </nav>

    <!--footer-->
    <footer th:replace="main/footer :: main_footerFragment">
    </footer>


</body>
</html>